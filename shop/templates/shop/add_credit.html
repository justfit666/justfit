{% extends "base.html" %}

{% block content %}
<div style="
    max-width: 600px; 
    margin: 30px auto; 
    background: #fff; 
    padding: 25px; 
    border-radius: 10px; 
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
">

    <h2 style="
        font-size: 24px; 
        margin-bottom: 25px; 
        font-weight: 700; 
        color: #1a1a1a;
        border-bottom: 2px solid #eee;
        padding-bottom: 10px;
    ">
        ğŸ’³ Admin Credit Adjustment
    </h2>

    <form method="POST" style="
        display: flex; 
        flex-direction: column; 
        gap: 20px;
    ">
        {% csrf_token %}

        <!-- User Selection -->
        <div>
            <label style="font-weight: 600; color: #555; display: block; margin-bottom: 5px;">
                User Account
            </label>
            <select name="user"
                style="
                    width: 100%; 
                    padding: 12px; 
                    border: 1px solid #ccc; 
                    border-radius: 8px; 
                    font-size: 16px;
                    background-color: #f9f9f9;
                "
                required>
                
                <option value="" disabled selected>--- Select User to Credit ---</option>
                
                {% for u in admin_users %}
                    <option value="{{ u.id }}">
                        {# Conditional Icons for Visual Organization (Matching your example structure) #}
                        {% if u.username == "Justfit" %}
                            â­ {{ u.username }}
                        {% elif u.username == "medhat" %}
                            ğŸ”µ {{ u.username }}
                        {% elif u.username == "kilany" %}
                            ğŸŸ£ {{ u.username }}
                        {% else %}
                            ğŸ‘¤ {{ u.username }}
                        {% endif %}
                    </option>
                {% endfor %}

            </select>
        </div>


        <!-- Amount Input -->
        <div>
            <label style="font-weight: 600; color: #555; display: block; margin-bottom: 5px;">
                Amount to Add ($)
            </label>
            <input type="number" step="0.01" name="amount" required
                style="
                    width: 100%; 
                    padding: 12px; 
                    border: 1px solid #ccc; 
                    border-radius: 8px; 
                    font-size: 16px;
                "
                placeholder="Enter positive credit amount">
        </div>


        <!-- Comment/Reason Textarea -->
        <div>
            <label style="font-weight: 600; color: #555; display: block; margin-bottom: 5px;">
                Comment (Reason for Credit)
            </label>
            <textarea name="comment" rows="3"
                style="
                    width: 100%; 
                    padding: 12px; 
                    border: 1px solid #ccc; 
                    border-radius: 8px;
                    resize: vertical;
                    font-size: 16px;
                "
                placeholder="e.g., Compensation for service interruption, Manual top-up, Bonus adjustment."></textarea>
        </div>


        <!-- Submit button -->
        <button type="submit"
            style="
                background: #007bff; /* Use a friendly blue color */
                color: white; 
                padding: 14px; 
                border: none;
                border-radius: 8px; 
                font-weight: 600; 
                cursor: pointer;
                transition: background 0.3s ease;
                margin-top: 10px;
            "
            onmouseover="this.style.backgroundColor='#0056b3'" 
            onmouseout="this.style.backgroundColor='#007bff'"
            >
            Save Credit Adjustment
        </button>

    </form>

</div>
{% endblock %}

